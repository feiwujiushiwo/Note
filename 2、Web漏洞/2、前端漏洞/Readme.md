# 前端漏洞

## 1、概述

前端漏洞是指在Web应用程序的前端部分存在的安全漏洞。这些漏洞允许攻击者在**用户浏览器**上执行恶意代码，从而窃取用户敏感信息、篡改页面内容或进行其他恶意活动。

**也就是说主要影响用户的浏览器端，区别于后端漏洞影响服务器端**

> 例如，攻击者可以利用XSS（跨站脚本攻击）漏洞，在目标网站上注入恶意脚本，当其他用户浏览该网站时，脚本将在他们的浏览器上执行。通过这种方式，攻击者可以窃取用户的Cookie、SessionID等敏感信息，或者进行其他恶意操作。

**注意：** 这里的前端与开发中的前端可不能混淆。具体区别如下：

> 前端漏洞指的是在Web应用程序的前端部分存在的安全漏洞，这些漏洞通常涉及JavaScript、HTML和CSS等前端技术的安全性问题。例如，XSS（跨站脚本攻击）和CSRF（跨站请求伪造）等攻击手段都可能利用前端漏洞进行攻击。

> 开发的前端则是指创建Web页面或移动应用等前端界面呈现给用户的过程。这包括使用HTML、CSS及JavaScript以及衍生出来的各种技术、框架、解决方案等，来实现互联网产品的用户界面交互。

## 2、具体分类

- XSS漏洞
- CSRF漏洞
- JSONHijacking漏洞
- CORS漏洞
- 会话固定漏洞
- CRLF注入漏洞
- URL跳转漏洞   ``//这个以上重点学习``
- XS-Leaks漏洞
- Web缓存欺骗漏洞
- ClickJacking漏洞

## 3、前置知识（重点）

> 要学的有同源策略、cookie、localStorage、sessionStorage。

### a、同源策略

同源策略由Netscape提出的一个著名的安全策略。现在所有支持JavaScript 的浏览器都会使用这个策略。所谓

同源是指：**域名，协议，端口相同**。

有些URL比较特殊，如： *about:blank和javascript*:，继承自加载它们的页面的源，本身并没有源。

对于不满足同源策略的情况，脚本不能操纵其他页面的元素；可以发送请求，但一般情况下接收不到返回的内容。

### b、Cookie

cookie就是相当于身份凭证。

回忆一下，登录网站时（例如网易邮箱的网页版），账号密码下方是不是有一个`三十天内记住我`的选项，如果你打了`√`，你下次在**这个浏览器**上（记住这里，我强调的是同一个浏览器）访问网易的页面时，就会直接跳转到你登陆后的页面。这是为什么呢？当然是因为我们的cookie了。接着往下看

cookie其实是一个帮你省很多事的东西，如果没有cookie，每次访问网易邮箱（这是我举得例子，其他需要登陆的网站也一样）都需要重新输入账号密码进行登录，这是不是很麻烦，所以开发人员想了一种办法来解决这个问题。那就是cookie。简单说一下他的原理：当你进行登录时，你会给你要登陆的网站的web服务器发送一个请求，请求中有你的账号密码，如果这时web服务器通过查询数据库匹配到了你的账号信息，也就是你已经注册过账号了，他就会允许你登陆，**并且**会在响应包中回复一个cookie，这时你的浏览器会自动保存这个cookie到磁盘中或者其他地方（具体的参考百度），这个cookie就是你的身份凭证，在你的浏览器保存了这个cookie之后，下次你再用这个浏览器访问同一个网站，浏览器会自动在你的请求包中加上cookie，然后web服务器收到之后自动进行比对，如果他认识这个cookie，他就会放行，让你进入到登陆后的页面而不需要你再次输入账号密码登录。相当于一个身份令牌。

那我们现在知道cookie是干什么的了，不妨大胆猜想一下，如果我在我的请求包里把cookie改成别人的，能否成功进入登录后的页面呢，大家可以去尝试一下。结果当然是可以的。所以到这里，一个新的攻击方式出现了。如果我能搞到别人的cookie，我是不是就能对他的账号为所欲为了。

那怎么搞到别人的cookie呢？直接去他电脑上看？都能接触到他的电脑了我还用什么cookie啊。

正好javascript有个功能能获得cookie并发送到一个指定地方（例如自己的邮箱），如果我们把这段代码植入到别人的浏览器，然后他正好在登陆状态执行了（一般来说只要他看到这段恶意代码浏览器就会自动执行）我们植入的这段恶意代码，他的cookie就会发送到我们的邮箱。

获得了他的cookie，我们就可以利用这个cookie登陆他的账号了。

Cookie的内容：

| 字段     | 描述                                          |
| -------- | --------------------------------------------- |
| Name     | Cookie 的名称                                 |
| Value    | Cookie 的值                                   |
| Domain   | 可以访问该 Cookie 的域名                      |
| Path     | Cookie 可用于的路径                           |
| Expires  | Cookie 的过期时间                             |
| HttpOnly | 表示 Cookie 是否仅通过 HTTP 或 HTTPS 协议传输 |
| Secure   | 表示 Cookie 是否仅通过 HTTPS 协议传输         |

Cookie的长度通常要小于4k 。

### c、localStorage

localStorage 是HTML5引入的新特性，主要为了解决Cookie存储长度不足的问题，localStorage最大支持5M，相当于前端本地的数据库，不少网站用它来存放js代码。

**localStorage与sessionStorage的区别在于：前者生命周期是永久（需要主动清除），而
sessionStorage会在用户关闭标签页或窗口时自动清除。**

### d、sessionStorage

cookie太长了，所以为了精简，创造了sessionstorage，很短。

localStorage & sessionStorage 的内容：
Key Value

### e、localStorage与sessionStorage的区别

前者生命周期是永久（需要主动清除），而sessionStorage会在用户关闭标签页或窗口时自动清除。